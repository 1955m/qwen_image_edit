{
  "_comment": "Qwen Image Edit Single-Image Workflow",
  "_description": "This workflow performs prompt-guided image editing using a single input image. Handler.py modifies nodes 78 (image input), 128/129 (dimensions), 111 (positive prompt), 110 (negative prompt), and 3 (seed/steps/cfg).",
  "_image_flow": "Node 78 (LoadImage) -> Node 127 (Resize) -> Node 111/110 (Text Encoding) -> Node 3 (KSampler) -> Node 8 (VAEDecode) -> Node 60 (SaveImage)",

  "3": {
    "_comment": "KSampler: Main sampling node that generates the edited image. Uses euler sampler with simple scheduler. Official defaults: steps=40, cfg=4.0 (true_cfg_scale). Lightning mode uses steps=4.",
    "inputs": {
      "seed": 954812286882415,
      "steps": 40,
      "cfg": 4,
      "sampler_name": "euler",
      "scheduler": "simple",
      "denoise": 1,
      "model": [
        "75",
        0
      ],
      "positive": [
        "111",
        0
      ],
      "negative": [
        "110",
        0
      ],
      "latent_image": [
        "112",
        0
      ]
    },
    "class_type": "KSampler",
    "_meta": {
      "title": "KSampler"
    }
  },
  "8": {
    "inputs": {
      "samples": [
        "3",
        0
      ],
      "vae": [
        "39",
        0
      ]
    },
    "class_type": "VAEDecode",
    "_meta": {
      "title": "VAE 디코드"
    }
  },
  "37": {
    "inputs": {
      "unet_name": "qwen_image_edit_2509_fp8_e4m3fn.safetensors",
      "weight_dtype": "default"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "확산 모델 로드"
    }
  },
  "38": {
    "inputs": {
      "clip_name": "qwen_2.5_vl_7b_fp8_scaled.safetensors",
      "type": "qwen_image",
      "device": "default"
    },
    "class_type": "CLIPLoader",
    "_meta": {
      "title": "CLIP 로드"
    }
  },
  "39": {
    "inputs": {
      "vae_name": "qwen_image_vae.safetensors"
    },
    "class_type": "VAELoader",
    "_meta": {
      "title": "VAE 로드"
    }
  },
  "60": {
    "inputs": {
      "filename_prefix": "ComfyUI",
      "images": [
        "8",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "이미지 저장"
    }
  },
  "66": {
    "inputs": {
      "shift": 3,
      "model": [
        "89",
        0
      ]
    },
    "class_type": "ModelSamplingAuraFlow",
    "_meta": {
      "title": "모델 샘플링 (AuraFlow)"
    }
  },
  "75": {
    "inputs": {
      "strength": 1,
      "model": [
        "66",
        0
      ]
    },
    "class_type": "CFGNorm",
    "_meta": {
      "title": "CFGNorm"
    }
  },
  "78": {
    "_comment": "LoadImage: Loads the input image. Handler.py sets this to the image_path/image_url/image_base64 provided by user.",
    "inputs": {
      "image": "result_25vrrfgn6x.png"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "이미지 로드"
    }
  },
  "89": {
    "_comment": "LoraLoaderModelOnly: Loads Qwen-Image-Lightning-4steps LoRA for fast generation. This is always loaded but only effective when steps=4 (Lightning mode).",
    "inputs": {
      "lora_name": "Qwen-Image-Lightning-4steps-V1.0.safetensors",
      "strength_model": 1,
      "model": [
        "37",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoRA 로드 (모델 전용)"
    }
  },
  "110": {
    "_comment": "TextEncodeQwenImageEditPlus (Negative): Encodes negative prompt with image context. Handler.py sets prompt (default: single space ' '). Official Qwen recommendation: use single space, not empty string.",
    "inputs": {
      "prompt": " ",
      "clip": [
        "38",
        0
      ],
      "vae": [
        "39",
        0
      ],
      "image1": [
        "127",
        0
      ]
    },
    "class_type": "TextEncodeQwenImageEditPlus",
    "_meta": {
      "title": "TextEncodeQwenImageEditPlus"
    }
  },
  "111": {
    "_comment": "TextEncodeQwenImageEditPlus (Positive): Encodes editing prompt with image context. Handler.py sets this to user's prompt. This is the main control for what edits to apply.",
    "inputs": {
      "prompt": "put her hands up",
      "clip": [
        "38",
        0
      ],
      "vae": [
        "39",
        0
      ],
      "image1": [
        "127",
        0
      ]
    },
    "class_type": "TextEncodeQwenImageEditPlus",
    "_meta": {
      "title": "TextEncodeQwenImageEditPlus"
    }
  },
  "112": {
    "_comment": "EmptySD3LatentImage: Creates empty latent space with specified dimensions. Gets width/height from nodes 128/129.",
    "inputs": {
      "width": [
        "128",
        0
      ],
      "height": [
        "129",
        0
      ],
      "batch_size": 1
    },
    "class_type": "EmptySD3LatentImage",
    "_meta": {
      "title": "빈 잠재 이미지 (SD3)"
    }
  },
  "127": {
    "_comment": "ImageResizeKJv2: Resizes input image to target dimensions. Uses 'stretch' mode to ensure exact dimensions. Dimensions from nodes 128/129 (handler.py sets these).",
    "inputs": {
      "width": [
        "128",
        0
      ],
      "height": [
        "129",
        0
      ],
      "upscale_method": "nearest-exact",
      "keep_proportion": "stretch",
      "pad_color": "0, 0, 0",
      "crop_position": "center",
      "divisible_by": 2,
      "device": "cpu",
      "per_batch": 0,
      "image": [
        "78",
        0
      ]
    },
    "class_type": "ImageResizeKJv2",
    "_meta": {
      "title": "Resize Image v2"
    }
  },
  "128": {
    "_comment": "INTConstant (width): Width value for output image. Handler.py sets this (default: 1024, range: 512-2048, must be multiple of 8).",
    "inputs": {
      "value": 720
    },
    "class_type": "INTConstant",
    "_meta": {
      "title": "width"
    }
  },
  "129": {
    "_comment": "INTConstant (height): Height value for output image. Handler.py sets this (default: 1024, range: 512-2048, must be multiple of 8).",
    "inputs": {
      "value": 1280
    },
    "class_type": "INTConstant",
    "_meta": {
      "title": "height"
    }
  }
}